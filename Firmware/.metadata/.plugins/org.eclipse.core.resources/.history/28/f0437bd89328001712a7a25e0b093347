/*
 * main.cpp
 *
 *  Created on: 20 avr. 2017
 *      Author: gilou
 */

#include "avr/io.h"

#include "../lib/FSM.hpp"

/**
 * \brief when a new char come on the USART0, it's need to echo it and do stuff
 * \return void
 */
void character_processing (){

}
/**
 * \brief this method if a new measure is needed
 * \return void
 */
void measurement_timing_control (){

}
/**
 * \brief This method define the next state by deduction
 */
void newState_definition (){

}


int main(){

	FSM fsm; /// <!FSM instance>

	while(1){
		/**
		 * If a new char come from the USART0
		 * process this char
		 */
		if(FSM::flag_UART0_rx_char) {
			character_processing();
		}

		measurement_timing_control ();	/// check if time come to do a new measure or not

		newState_definition();	/// Permit to choose the next state

		fsm.execute();		/// execute the next state
	}

	return 0;
}
